# Auth Service Makefile
# Handles user authentication, registration, and JWT token management

.PHONY: all run clean

# Default target - run all installations
all:
	@echo "ğŸ“¦ Installing auth-service dependencies..."
	npm install
	@echo "ğŸ”§ Generating Prisma client..."
	npx prisma generate
	@echo "ğŸ—„ï¸ Running database migrations..."
	npx prisma migrate dev --name init
	@echo "ğŸŒ± Seeding database..."
	npm run seed
	@echo "âœ… Auth service setup complete!"
	@echo "ğŸš€ Starting auth-service development server..."
	npm run dev

# Just run the service (assumes already installed)
run:
	@echo "ğŸš€ Starting auth-service development server..."
	npm run dev

# Clean up
clean:
	@echo "ğŸ§¹ Cleaning up..."
	rm -rf node_modules
	rm -f prisma/auth.db
	rm -f prisma/*.db
