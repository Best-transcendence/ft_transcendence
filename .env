# ft_transcendence - Centralized Environment Configuration

# =============================================================================
# MICROSERVICES PORT CONFIGURATION
# =============================================================================
# =============================================================================
# =============================================================================
# LAN IP CONFIGURATION
# =============================================================================
# This IP address is used for remote multiplayer access.
# Other devices on your network will connect to your services using this IP.
#
# üîç HOW TO FIND YOUR LOCAL IP ADDRESS:
#
#   macOS/Linux:
#     Run in terminal: ipconfig getifaddr en0
#     Or: ifconfig | grep "inet " | grep -v 127.0.0.1
#
#   Windows:
#     Run in terminal: ipconfig
#     Look for "IPv4 Address" under your active network adapter
#
#   Quick check (any OS):
#     Look in your router admin panel or network settings
#
# üì± IMPORTANT:
#   - Use your LOCAL network IP (usually starts with 192.168.x.x or 10.x.x.x)
#   - This should NOT be 127.0.0.1 or localhost
#   - If you change networks, you'll need to update this IP
#   - After changing, run: make rebuild
#
# =============================================================================
# LAN_IP=10.12.243.7 (school)
# LAN_IP=192.168.1.248 (Juan)
# ============================================================================

# Auth Service (authentication, JWT, login/signup)
AUTH_SERVICE_PORT=3001

# User Service (user profiles, friends, stats)
USER_SERVICE_PORT=3002

# Gateway Service (API routing, load balancing)
GATEWAY_PORT=3003

# Frontend development server port
FRONTEND_PORT=3000

# Database port (if using external DB)
DATABASE_PORT=5432

# Proxy/Nginx port
PROXY_PORT=8080

# Websocket Port
WS_PORT=4000

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================

# Host configuration
HOST=0.0.0.0

# Service URLs (used for inter-service communication)
AUTH_SERVICE_URL=http://${LAN_IP}:3001
USER_SERVICE_URL=http://${LAN_IP}:3002
GATEWAY_URL=http://${LAN_IP}:3003
WS_URL=ws://${LAN_IP}:4000
WS_SERVICE_URL=http://${LAN_IP}:4000


# Frontend URL (used by services for CORS)
FRONTEND_URL=http://${LAN_IP}:3000

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# Auth Service Database
AUTH_DATABASE_URL="file:./prisma/auth.db"

# User Service Database
USER_DATABASE_URL="file:./prisma/user.db"

# Legacy database (for backward compatibility)
DATABASE_URL="file:./backend/prisma/dev.db"

# =============================================================================
# SECURITY
# =============================================================================

# JWT Secret (shared across all services)
JWT_SECRET=ft-transcendence-dev-secret-change-in-production

# =============================================================================
# DEVELOPMENT
# =============================================================================

# Node environment
NODE_ENV=development

# =============================================================================
# FRONTEND CONFIGURATION (Vite environment variables)
# =============================================================================

# Gateway URL for API calls (frontend talks to gateway)
VITE_GATEWAY_URL=http://${LAN_IP}:3003
VITE_BACKEND_URL=http://${LAN_IP}:3003  # Legacy support
VITE_WS_URL=ws://${LAN_IP}:4000

# Service URLs for direct calls (if needed)
VITE_AUTH_SERVICE_URL=http://${LAN_IP}:3001
VITE_USER_SERVICE_URL=http://${LAN_IP}:3002